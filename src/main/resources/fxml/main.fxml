<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.shape.Line?>

<BorderPane prefHeight="1080.0" prefWidth="1920.0" stylesheets="@../css/main.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="app.frontend.MainController">
   <left>
      <StackPane prefWidth="400.0" styleClass="sidebar-container">
         <!-- Background Image for Sidebar -->
         <ImageView fitHeight="1080.0" fitWidth="400.0" pickOnBounds="true" preserveRatio="false" styleClass="sidebar-background">
            <image>
               <Image url="@../images/sideBarBackground.png" />
            </image>
         </ImageView>

         <!-- Sidebar Content -->
         <VBox styleClass="sidebar">
            <children>
               <!-- App Header - Removed border -->
               <HBox alignment="CENTER_LEFT" prefHeight="84.0" prefWidth="400.0" spacing="20.0" styleClass="app-header">
                  <children>
                     <ImageView fitHeight="69.0" fitWidth="69.0" pickOnBounds="true" preserveRatio="true">
                        <image>
                           <Image url="@../images/LogoSideBar.png" />
                        </image>
                     </ImageView>
                     <VBox spacing="0">
                        <children>
                           <Label styleClass="app-title" text="AEPFE" />
                           <Label fx:id="portalTypeLabel" styleClass="app-subtitle" text="Student Portal" />
                        </children>
                     </VBox>
                     <HBox alignment="CENTER_RIGHT" HBox.hgrow="ALWAYS">
                        <children>
                           <ImageView fitHeight="35.0" fitWidth="35.0" pickOnBounds="true" preserveRatio="true">
                              <image>
                                 <Image url="@../images/Bell.png" />
                              </image>
                           </ImageView>
                        </children>
                     </HBox>
                  </children>
                  <padding>
                     <Insets left="40.0" right="40.0" />
                  </padding>
                  <VBox.margin>
                     <Insets bottom="50.0" />
                  </VBox.margin>
               </HBox>

               <!-- Menu Section -->
               <VBox styleClass="menu-section">
                  <children>
                     <Label styleClass="section-header" text="MENU">
                        <VBox.margin>
                           <Insets bottom="20.0" left="15.0" />
                        </VBox.margin></Label>

                     <!-- Dashboard -->
                     <HBox fx:id="dashboardItem" alignment="CENTER_LEFT" styleClass="menu-item">
                        <children>
                           <ImageView fitHeight="35.0" fitWidth="35.0" pickOnBounds="true" preserveRatio="true">
                              <image>
                                 <Image url="@../images/QR Code.png" />
                              </image>
                              <HBox.margin>
                                 <Insets left="15.0" />
                              </HBox.margin>
                           </ImageView>
                           <Label text="Dashboard" />
                           <Pane HBox.hgrow="ALWAYS" />
                           <ImageView fx:id="dashboardActiveDot" fitHeight="10.0" fitWidth="10.0" pickOnBounds="true" preserveRatio="true" visible="false">
                              <HBox.margin>
                                 <Insets right="15.0" />
                              </HBox.margin>
                           </ImageView>
                        </children>
                        <VBox.margin>
                           <Insets bottom="20.0" />
                        </VBox.margin>
                     </HBox>

                     <!-- Courses -->
                     <HBox fx:id="coursesItem" alignment="CENTER_LEFT" styleClass="menu-item">
                        <children>
                           <ImageView fitHeight="35.0" fitWidth="35.0" pickOnBounds="true" preserveRatio="true">
                              <image>
                                 <Image url="@../images/Square Academic Cap.png" />
                              </image>
                              <HBox.margin>
                                 <Insets left="15.0" />
                              </HBox.margin>
                           </ImageView>
                           <Label text="Courses" />
                           <Pane HBox.hgrow="ALWAYS" />
                           <ImageView fx:id="coursesActiveDot" fitHeight="10.0" fitWidth="10.0" pickOnBounds="true" preserveRatio="true" visible="false">
                              <HBox.margin>
                                 <Insets right="15.0" />
                              </HBox.margin>
                           </ImageView>
                        </children>
                        <VBox.margin>
                           <Insets bottom="20.0" />
                        </VBox.margin>
                     </HBox>

                     <!-- Quizzes -->
                     <HBox fx:id="quizzesItem" alignment="CENTER_LEFT" prefHeight="59.0" prefWidth="415.0" styleClass="menu-item">
                        <children>
                           <ImageView fitHeight="35.0" fitWidth="35.0" pickOnBounds="true" preserveRatio="true">
                              <image>
                                 <Image url="@../images/Object Scan.png" />
                              </image>
                              <HBox.margin>
                                 <Insets left="15.0" />
                              </HBox.margin>
                           </ImageView>
                           <Label text="Quizzes" />
                           <Pane HBox.hgrow="ALWAYS" />
                           <ImageView fx:id="quizzesActiveDot" fitHeight="10.0" fitWidth="10.0" pickOnBounds="true" preserveRatio="true" visible="false">
                              <HBox.margin>
                                 <Insets right="15.0" />
                              </HBox.margin>
                           </ImageView>
                        </children>
                        <VBox.margin>
                           <Insets bottom="20.0" />
                        </VBox.margin>
                     </HBox>

                     <!-- Exercises -->
                     <HBox fx:id="exercisesItem" alignment="CENTER_LEFT" styleClass="menu-item">
                        <children>
                           <ImageView fitHeight="35.0" fitWidth="35.0" pickOnBounds="true" preserveRatio="true">
                              <image>
                                 <Image url="@../images/Ruler Cross Pen.png" />
                              </image>
                              <HBox.margin>
                                 <Insets left="15.0" />
                              </HBox.margin>
                           </ImageView>
                           <Label text="Exercises" />
                           <Pane HBox.hgrow="ALWAYS" />
                           <ImageView fx:id="exercisesActiveDot" fitHeight="10.0" fitWidth="10.0" pickOnBounds="true" preserveRatio="true" visible="false">
                              <HBox.margin>
                                 <Insets right="15.0" />
                              </HBox.margin>
                           </ImageView>
                        </children>
                        <VBox.margin>
                           <Insets bottom="20.0" />
                        </VBox.margin>
                     </HBox>

                     <!-- Practical Work -->
                     <HBox fx:id="practicalWorkItem" alignment="CENTER_LEFT" styleClass="menu-item">
                        <children>
                           <ImageView fitHeight="35.0" fitWidth="35.0" pickOnBounds="true" preserveRatio="true">
                              <image>
                                 <Image url="@../images/Keyboard.png" />
                              </image>
                              <HBox.margin>
                                 <Insets left="15.0" />
                              </HBox.margin>
                           </ImageView>
                           <Label text="Practical Work" />
                           <Pane HBox.hgrow="ALWAYS" />
                           <ImageView fx:id="practicalWorkActiveDot" fitHeight="10.0" fitWidth="10.0" pickOnBounds="true" preserveRatio="true" visible="false">
                              <HBox.margin>
                                 <Insets right="15.0" />
                              </HBox.margin>
                           </ImageView>
                        </children>
                        <VBox.margin>
                           <Insets bottom="30.0" />
                        </VBox.margin>
                     </HBox>
                     <Line endX="320.0" styleClass="input-divider">
                        <VBox.margin>
                           <Insets bottom="30.0" left="30.0" />
                        </VBox.margin></Line>
                  </children>
               </VBox>

               <!-- Library Section -->
               <VBox styleClass="menu-section">
                  <children>
                     <Label styleClass="section-header" text="LIBRARY">
                        <VBox.margin>
                           <Insets bottom="20.0" left="15.0" />
                        </VBox.margin></Label>
                     <HBox fx:id="savedCoursesItem" alignment="CENTER_LEFT" styleClass="menu-item">
                        <children>
                           <ImageView fitHeight="35.0" fitWidth="35.0" pickOnBounds="true" preserveRatio="true">
                              <image>
                                 <Image url="@../images/Heart%20Angle.png" />
                              </image>
                              <HBox.margin>
                                 <Insets left="15.0" />
                              </HBox.margin>
                           </ImageView>
                           <Label text="Saved Courses" />
                           <Pane HBox.hgrow="ALWAYS" />
                           <ImageView fx:id="savedCoursesActiveDot" fitHeight="10.0" fitWidth="10.0" pickOnBounds="true" preserveRatio="true" visible="false">
                              <HBox.margin>
                                 <Insets right="15.0" />
                              </HBox.margin>
                           </ImageView>
                        </children>
                        <VBox.margin>
                           <Insets bottom="20.0" />
                        </VBox.margin>
                     </HBox>
                     <HBox fx:id="myResultsItem" alignment="CENTER_LEFT" styleClass="menu-item">
                        <children>
                           <ImageView fitHeight="35.0" fitWidth="35.0" pickOnBounds="true" preserveRatio="true">
                              <image>
                                 <Image url="@../images/Medal%20Ribbons%20Star.png" />
                              </image>
                              <HBox.margin>
                                 <Insets left="15.0" />
                              </HBox.margin>
                           </ImageView>
                           <Label text="My Results" />
                           <Pane HBox.hgrow="ALWAYS" />
                           <ImageView fx:id="myResultsActiveDot" fitHeight="10.0" fitWidth="10.0" pickOnBounds="true" preserveRatio="true" visible="false">
                              <HBox.margin>
                                 <Insets right="15.0" />
                              </HBox.margin>
                           </ImageView>
                        </children>
                        <VBox.margin>
                           <Insets bottom="30.0" />
                        </VBox.margin>
                     </HBox>
                     <Line endX="320.0" styleClass="input-divider">
                        <VBox.margin>
                           <Insets left="30.0" />
                        </VBox.margin>
                     </Line>
                     <Pane prefHeight="200.0" prefWidth="200.0" VBox.vgrow="ALWAYS" />
                  </children>
               </VBox>

               <!-- User Profile Section (at bottom) -->
               <HBox fx:id="profileContainer" alignment="CENTER_LEFT" spacing="15.0" styleClass="profile-container">
                  <children>
                     <StackPane>
                        <children>
                           <Circle radius="30.0" styleClass="avatar-circle" />
                           <ImageView fitHeight="60.0" fitWidth="60.0" pickOnBounds="true" preserveRatio="true">
                              <image>
                                 <Image url="@../images/Ellipse%205.png" />
                              </image>
                           </ImageView>
                        </children>
                     </StackPane>
                     <VBox prefHeight="43.0" prefWidth="204.0">
                        <children>
                           <HBox alignment="CENTER_LEFT" spacing="10.0">
                              <children>
                                 <Label fx:id="userNameLabel" styleClass="user-name" text="Akram Oday" />
                                 <Label fx:id="userRoleLabel" styleClass="user-role-badge" text="Student" />
                              </children>
                           </HBox>
                           <Label fx:id="userEmailLabel" prefHeight="33.0" prefWidth="148.0" styleClass="user-email" text="akramoday@pfe.dz" />
                        </children>
                        <HBox.margin>
                           <Insets />
                        </HBox.margin>
                        <padding>
                           <Insets bottom="5.0" top="5.0" />
                        </padding>
                     </VBox>
                     <ImageView fitHeight="35.0" fitWidth="35.0" pickOnBounds="true" preserveRatio="true" styleClass="side-bar-arrow" HBox.hgrow="ALWAYS">
                        <image>
                           <Image url="@../images/Alt%20Arrow%20Right.png" />
                        </image>
                        <HBox.margin>
                           <Insets left="10.0" />
                        </HBox.margin>
                     </ImageView>
                  </children>
                  <padding>
                     <Insets bottom="15.0" left="30.0" right="30.0" top="15.0" />
                  </padding>
                  <VBox.margin>
                     <Insets />
                  </VBox.margin>
               </HBox>
            </children>
            <StackPane.margin>
               <Insets />
            </StackPane.margin>
            <padding>
               <Insets bottom="25.0" top="25.0" />
            </padding>
         </VBox>
      </StackPane>
   </left>
   <center>
      <StackPane fx:id="contentArea" styleClass="content-area">
         <!-- Content will be loaded here dynamically -->
      </StackPane>
   </center>
</BorderPane>
